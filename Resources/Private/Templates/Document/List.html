<f:layout name="DefaultBE" />

This Template is responsible for creating a table of domain objects.

If you modify this template, do not forget to change the overwrite settings
in /Configuration/ExtensionBuilder/settings.yaml:
  Resources:
    Private:
      Templates:
        List.html: keep

Otherwise your changes will be overwritten the next time you save the extension in the extension builder


<f:section name="main">
   
  <h1>Local Documents</h1>

<f:flashMessages renderMode="div" />
                                              
<table  class="tx_dpf table table-striped table-manager table-condensed" >
	<thead>
          <tr>
            <th class="xcol-md-4"><f:translate key="tx_dpf_domain_model_document.title" /></th>
            <th class="xcol-md-3">Authors</th>
            <th class="xcol-md-3">Dataset Identifier</th>    
            <th class="xcol-md-3">Pulicationstate</th>            
            <th class="xcol-md-2"></th>            
	  </tr>
        </thead>
	<f:for each="{documents}" as="document">
         	<tr>                
			<td><f:link.action action="edit" controller="DocumentFormBE" arguments="{document : document}">{document.title}</f:link.action></td>
			<td>{document.title}</td>
                        <td>{document.objectIdentifier}</td>
                        <td>                          
                          <f:if condition="{document.objectIdentifier}">
                            <f:then>
                              published
                            </f:then>
                            <f:else>
                              unpublished
                            </f:else>
                          </f:if>  
                        </td>   
                        <td>{document.state}                           
                        </td>
                        <td class="table_col_function">
                                                                              
                          <f:if condition="{document.objectIdentifier}">
                            <f:then>                              
                              <f:link.action 
                                action="release" 
                                arguments="{document : document}" 
                                class="btn {f:if(condition: '{document.deleteRemote}', then: 'btn-warning', else: 'btn-info')} {f:if(condition: '{document.edited}', then: '', else: 'disabled')}">
                                Update
                              </f:link.action>                                 
                              
                            </f:then>
                            <f:else>                             
                              <f:link.action action="release" arguments="{document : document}" class="btn btn-primary">Publish</f:link.action>                            
                            </f:else>
                          </f:if>
                        
                          <button class="btn btn-default">Doublet Check</button> 
                        
                          <f:link.action action="delete" arguments="{document : document}" class="btn btn-danger">Delete</f:link.action>                                                                  
                        </td>
		</tr>
	</f:for>
</table>

</f:section>
