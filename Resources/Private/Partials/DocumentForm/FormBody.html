{namespace eww=EWW\Dpf\ViewHelpers}

    <div class="tx-dpf-tab-container">
      <ul class="tx-dpf-tabs nav nav-tabs">
        <f:for each="{documentForm.items}" as="formPage" iteration="pageIterator">
          <li><a href="#tab-{pageIterator.cycle}">{formPage.0.displayName}</a></li>
        </f:for>
        <li><a href="#tab-file-upload">Dateien</a></li>
        <li><a href="#tab-publication-info">Publikationsinformationen</a></li>
      </ul>
    </div>

    <div class="css-panes">

      <f:for each="{documentForm.items}" as="formPage" iteration="pageIterator">

        <div id="tab-{pageIterator.cycle}" class="fs_page" data-page="{formPage.0.uid}">

          <f:for each="{formPage.0.items}" as="formGroup" iteration="groupIterator">

            <f:for each="{formGroup}" as="groupItem" iteration="groupItemIterator">
                                            
              <f:render partial="DocumentForm/Group" arguments="{
                        formPageUid:formPage.0.uid,                       
                        formGroupUid:groupItem.uid,
                        formGroupDisplayName:groupItem.displayName,
                        groupItem:groupItem, 
                        groupIndex:groupItemIterator.index}"/>

              <f:if condition="{groupItem.maxIteration} == 0">
                <f:if condition="{groupItemIterator.isLast}">                               
                  <button type="submit"
                         name="add_group" class="btn btn-xs btn-default add_group"
                         data-group="{groupItem.uid}"
                         data-ajax="{f:uri.action(
                              action:'group',
                              controller:'AjaxDocumentForm',
                              pageType:110124,
                              arguments:{
                                  pageUid:formPage.0.uid,
                                  groupUid:groupItem.uid                               
                         })}"
                         data-index="{groupItemIterator.index}">
                    <span class="glyphicon glyphicon-plus"></span>
                    {f:translate(key: 'form_button.add_item', arguments: {0: groupItem.displayName})}
                  </button>
                </f:if>
              </f:if>
             
            </f:for>

          </f:for>

        </div>
      </f:for>

      <div id="tab-file-upload" class="fs_page">
        
        <f:render partial="DocumentForm/PrimaryFileGroup" arguments="{file:documentForm.primaryFile}" />                
                          
        <f:render partial="DocumentForm/SecondaryFileGroup" arguments="{files:documentForm.secondaryFiles}" />            
          
          <button type="submit"
                 name="add_file_group" class="btn btn-xs btn-default add_file_group"
                 data-group="file-upload"
                 data-ajax="{f:uri.action(
                              action:'secondaryUpload',
                              controller:'AjaxDocumentForm',
                              pageType:110124                               
                             )}"
                 data-index="0">
            <span class="glyphicon glyphicon-plus"></span>
            {f:translate(key: 'form_button.addFile')}
          </button>
               
      </div>
              
      <div id="tab-publication-info" class="fs_page">
                          
      </div>  

    </div>
      
  <div class="form-submit">
      <f:if condition="{documentForm.remoteDelete}">
        <f:then>
            <f:form.button name="save" id="save" disabled="disabled" class="btn btn-lg btn-success">
              <span class="glyphicon glyphicon-ok"></span>
              {f:translate(key: 'form_button.save')}
            </f:form.button>
        </f:then>  
        <f:else>
            <f:form.button name="save" id="save" class="btn btn-lg btn-success">
              <span class="glyphicon glyphicon-ok"></span>
              {f:translate(key: 'form_button.save')}
            </f:form.button>
        </f:else>  
      </f:if>
      
      <f:if condition="{documentForm.documentUid} < 1">            
        <f:form.button name="savecontinue" id="savecontinue" class="btn btn-lg btn-info">
          <span class="glyphicon glyphicon-chevron-right"></span>
          {f:translate(key: 'form_button.save_continue')}
        </f:form.button>
      </f:if>
      <f:form.button name="cancel" id="cancel" class="btn btn-sm btn-default">
        <span class="glyphicon glyphicon-remove"></span>
        {f:translate(key: 'form_button.cancel')}
      </f:form.button>
  </div>
